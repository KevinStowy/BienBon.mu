---
import type { Locale } from '../i18n/utils';
import { t, getLocalizedPath } from '../i18n/utils';
import Icon from './Icon.astro';

interface Props {
  locale: Locale;
}

const { locale } = Astro.props;
---

<footer class="bg-neutral-900 text-white" role="contentinfo">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <!-- Brand -->
      <div>
        <a
          href={getLocalizedPath(locale, '/')}
          class="flex items-center gap-2 font-extrabold text-xl text-white hover:text-green-500 transition-colors"
          aria-label="BienBon"
        >
          <img src="/images/logos/logo-avec-texte.png" alt="BienBon" class="h-10 w-auto" />
        </a>
        <p class="mt-3 text-sm text-neutral-400 leading-relaxed">
          {t(locale, 'footer.description')}
        </p>
        <!-- Social links -->
        <div class="mt-4 flex gap-3">
          <a
            href="https://www.facebook.com/bienbon.mu"
            target="_blank"
            rel="noopener noreferrer"
            class="w-10 h-10 rounded-md bg-neutral-800 flex items-center justify-center text-neutral-400 hover:text-white hover:bg-green-700 transition-colors"
            aria-label="BienBon sur Facebook"
          >
            <Icon name="Facebook" size={20} />
          </a>
          <a
            href="https://www.instagram.com/bienbon.mu"
            target="_blank"
            rel="noopener noreferrer"
            class="w-10 h-10 rounded-md bg-neutral-800 flex items-center justify-center text-neutral-400 hover:text-white hover:bg-green-700 transition-colors"
            aria-label="BienBon sur Instagram"
          >
            <Icon name="Instagram" size={20} />
          </a>
        </div>
      </div>

      <!-- Navigation links -->
      <nav aria-label={locale === 'fr' ? 'Liens du site' : 'Site links'}>
        <h2 class="text-sm font-bold text-neutral-300 uppercase tracking-wide mb-4">
          {locale === 'fr' ? 'Navigation' : locale === 'en' ? 'Navigation' : 'Navigasyon'}
        </h2>
        <ul class="space-y-2">
          <li>
            <a
              href={getLocalizedPath(locale, '/')}
              class="text-sm text-neutral-400 hover:text-white transition-colors"
            >
              {t(locale, 'nav.home')}
            </a>
          </li>
          <li>
            <a
              href={locale === 'fr' ? '/comment-ca-marche' : locale === 'en' ? '/en/how-it-works' : '/kr/kouma-sa-marse'}
              class="text-sm text-neutral-400 hover:text-white transition-colors"
            >
              {t(locale, 'nav.howItWorks')}
            </a>
          </li>
          <li>
            <a
              href={locale === 'fr' ? '/devenir-partenaire' : locale === 'en' ? '/en/become-partner' : '/kr/vinn-partenaire'}
              class="text-sm text-neutral-400 hover:text-white transition-colors"
            >
              {t(locale, 'nav.becomePartner')}
            </a>
          </li>
          <li>
            <a
              href={locale === 'fr' ? '/faq' : locale === 'en' ? '/en/faq' : '/kr/faq'}
              class="text-sm text-neutral-400 hover:text-white transition-colors"
            >
              {t(locale, 'nav.faq')}
            </a>
          </li>
        </ul>
      </nav>

      <!-- Legal links -->
      <nav aria-label={locale === 'fr' ? 'Liens légaux' : 'Legal links'}>
        <h2 class="text-sm font-bold text-neutral-300 uppercase tracking-wide mb-4">
          {locale === 'fr' ? 'Légal' : locale === 'en' ? 'Legal' : 'Legal'}
        </h2>
        <ul class="space-y-2">
          <li>
            <a
              href="/mentions-legales"
              class="text-sm text-neutral-400 hover:text-white transition-colors"
            >
              {t(locale, 'footer.legal')}
            </a>
          </li>
          <li>
            <a
              href="/cgu"
              class="text-sm text-neutral-400 hover:text-white transition-colors"
            >
              {t(locale, 'footer.cgu')}
            </a>
          </li>
          <li>
            <a
              href="/politique-de-confidentialite"
              class="text-sm text-neutral-400 hover:text-white transition-colors"
            >
              {t(locale, 'footer.privacy')}
            </a>
          </li>
        </ul>
      </nav>
    </div>

    <!-- Bottom bar -->
    <div class="mt-10 pt-6 border-t border-neutral-800 flex flex-col sm:flex-row justify-between items-center gap-4">
      <p class="text-xs text-neutral-500">
        {t(locale, 'footer.copyright')}
      </p>
      <p class="text-xs text-neutral-500">
        {locale === 'fr' ? 'Fait avec amour à l\'île Maurice' : locale === 'en' ? 'Made with love in Mauritius' : 'Fer ek lamour dan lil Moris'}
      </p>
    </div>
  </div>
</footer>
