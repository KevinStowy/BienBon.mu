---
import type { Locale } from '../i18n/utils';
import { t } from '../i18n/utils';
import Icon from './Icon.astro';

interface Props {
  locale: Locale;
}

const { locale } = Astro.props;

const stats = [
  {
    value: '12 450',
    labelKey: 'home.mealsSaved',
    iconName: 'Leaf' as const,
    iconClass: 'text-green-600',
  },
  {
    value: '3 740',
    labelKey: 'home.co2Saved',
    iconName: 'Globe' as const,
    iconClass: 'text-green-600',
  },
  {
    value: '87',
    label: locale === 'fr' ? 'partenaires actifs' : locale === 'en' ? 'active partners' : 'partenere aktif',
    iconName: 'Store' as const,
    iconClass: 'text-orange-500',
  },
  {
    value: '4.8/5',
    label: locale === 'fr' ? 'note moyenne' : locale === 'en' ? 'average rating' : 'not mwayen',
    iconName: 'Star' as const,
    iconClass: 'text-orange-500',
  },
];
---

<section class="py-16 sm:py-24 bg-neutral-50" aria-labelledby="impact-heading">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 id="impact-heading" class="text-3xl sm:text-4xl font-extrabold text-neutral-900">
        {t(locale, 'home.impactTitle')}
      </h2>
    </div>

    <dl class="grid grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
      {stats.map((stat) => (
        <div class="bg-white rounded-xl p-6 shadow-sm text-center">
          <div class={`w-10 h-10 mx-auto mb-3 flex items-center justify-center ${stat.iconClass}`} aria-hidden="true">
            <Icon name={stat.iconName} size={32} class={stat.iconClass} />
          </div>
          <dt class="text-3xl sm:text-4xl font-extrabold text-green-700">
            {stat.value}
          </dt>
          <dd class="mt-1 text-sm text-neutral-600">
            {stat.labelKey ? t(locale, stat.labelKey) : stat.label}
          </dd>
        </div>
      ))}
    </dl>
  </div>
</section>
