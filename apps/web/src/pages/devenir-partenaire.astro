---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Breadcrumb from '../components/Breadcrumb.astro';
import Icon from '../components/Icon.astro';
import PartnerRegistrationForm from '../components/PartnerRegistrationForm';
import { t } from '../i18n/utils';
import frTranslations from '../i18n/fr.json';

const locale = 'fr' as const;

const benefits = [
  {
    iconName: 'TrendingUp' as const,
    titleKey: 'partner.benefit1',
    descKey: 'partner.benefit1Desc',
    iconClass: 'text-green-700',
    bgClass: 'bg-green-100',
  },
  {
    iconName: 'Users' as const,
    titleKey: 'partner.benefit2',
    descKey: 'partner.benefit2Desc',
    iconClass: 'text-orange-600',
    bgClass: 'bg-orange-100',
  },
  {
    iconName: 'Banknote' as const,
    titleKey: 'partner.benefit3',
    descKey: 'partner.benefit3Desc',
    iconClass: 'text-green-700',
    bgClass: 'bg-green-100',
  },
  {
    iconName: 'Sprout' as const,
    titleKey: 'partner.benefit4',
    descKey: 'partner.benefit4Desc',
    iconClass: 'text-orange-600',
    bgClass: 'bg-orange-100',
  },
];
---

<BaseLayout
  title="Devenir partenaire BienBon — Réduisez le gaspillage, augmentez vos revenus"
  description="Rejoignez le réseau BienBon et vendez vos invendus sous forme de paniers surprise à prix réduit. Zéro invendu, nouvelle clientèle, revenus supplémentaires."
  locale={locale}
  canonicalPath="/devenir-partenaire"
>
  <Header locale={locale} currentPath="/devenir-partenaire" />
  <Breadcrumb locale={locale} items={[{ label: t(locale, 'breadcrumb.becomePartner') }]} />
  <main id="main-content">
    <!-- Hero -->
    <section class="bg-gradient-to-br from-orange-100 to-neutral-50 py-14 sm:py-20">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col lg:flex-row items-center gap-10 lg:gap-16">
          <div class="flex-1 text-center lg:text-left">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-neutral-900">
              {t(locale, 'partner.title')}
            </h1>
            <p class="mt-4 text-lg text-neutral-600 max-w-xl mx-auto lg:mx-0">
              {t(locale, 'partner.subtitle')}
            </p>
          </div>
          <div class="flex-shrink-0">
            <img
              src="/images/illustrations/vitrine-page-partenaire.png"
              alt=""
              class="w-full max-w-md mx-auto"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Benefits -->
    <section class="py-16 sm:py-20 bg-white" aria-labelledby="benefits-heading">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 id="benefits-heading" class="text-2xl sm:text-3xl font-extrabold text-neutral-900 text-center mb-12">
          Pourquoi rejoindre BienBon ?
        </h2>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
          {benefits.map((benefit) => (
            <article class="bg-neutral-50 rounded-xl p-6 text-center">
              <div class={`w-14 h-14 rounded-xl flex items-center justify-center mx-auto mb-4 ${benefit.bgClass} ${benefit.iconClass}`} aria-hidden="true">
                <Icon name={benefit.iconName} size={32} class={benefit.iconClass} />
              </div>
              <h3 class="text-base font-extrabold text-neutral-900 mb-2">
                {t(locale, benefit.titleKey)}
              </h3>
              <p class="text-sm text-neutral-600 leading-relaxed">
                {t(locale, benefit.descKey)}
              </p>
            </article>
          ))}
        </div>
      </div>
    </section>

    <!-- Testimonial -->
    <section class="py-16 bg-neutral-50" aria-labelledby="testimonial-heading">
      <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 id="testimonial-heading" class="sr-only">Témoignage partenaire</h2>
        <blockquote class="relative">
          <div class="text-5xl text-green-300 font-serif leading-none mb-4" aria-hidden="true">"</div>
          <p class="text-lg text-neutral-700 italic leading-relaxed">
            {t(locale, 'partner.testimonialQuote')}
          </p>
          <footer class="mt-6">
            <cite class="text-sm font-bold text-neutral-500 not-italic">
              -- {t(locale, 'partner.testimonialAuthor')}
            </cite>
          </footer>
        </blockquote>
      </div>
    </section>

    <!-- Registration form (gap 6) -->
    <section class="py-16 sm:py-20 bg-white" aria-labelledby="register-heading">
      <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 id="register-heading" class="text-2xl sm:text-3xl font-extrabold text-neutral-900 mb-4 text-center">
          {t(locale, 'partner.contactTitle')}
        </h2>
        <p class="text-neutral-600 mb-8 text-center">
          {t(locale, 'partner.contactDesc')}
        </p>

        <div class="bg-neutral-50 border border-neutral-200 rounded-xl p-6 sm:p-8">
          <PartnerRegistrationForm
            client:visible
            translations={frTranslations.partner}
            cguUrl="/cgu"
            privacyUrl="/politique-de-confidentialite"
          />
        </div>

        <!-- FAQ teaser -->
        <p class="mt-8 text-sm text-neutral-500 text-center">
          Des questions ?{' '}
          <a href="/faq" class="text-green-700 font-semibold hover:underline">
            Consultez notre FAQ
          </a>
        </p>
      </div>
    </section>
  </main>
  <Footer locale={locale} />
</BaseLayout>
